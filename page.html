<html>
    <head>
        <title> Interactive Language Notes </title>

        <link rel="stylesheet" type="text/css" href="/styles.css" />

        <script type="text/javascript" src="/require.js"></script>
    </head>
    <body>

        <div id="app-container"> <!-- bound to app -->
            <!-- ko if: loading -->
                Loading .....
            <!-- /ko -->
            <div data-bind="with: lesson">
                <h1 data-bind="text: title"></h1>
                <div class="player">
                    <video height="300px" controls="controls" data-bind="attr.src: video_source, element: video_element">
                    </video>
                </div>
                <p>
                    <code> Video Position: {{ currentTime }} </code>
                </p>
                <div class="current_notes" data-bind="with: current_section">
                    <div>
                        {{ text }}
                    </div>
                    <div data-bind="foreach: notes">
                        <div>
                            {{ text }}
                        </div>
                    </div>
                </div>
                <div class="sections" data-bind="foreach: sections">
                    <div class="section" data-bind="click: click, css.current: $parent.current_section() == $data">
                        <p>
                            <code> {{ time }}: </code>
                            {{ text }}
                        </p>
                    </div>
                </div>
            </div>
            <!-- ko if: error -->
                <code data-bind="text: error | json:4"></code>
            <!-- /ko -->
        </div>

        <script type="text/javascript">
            require(['rconfig'], function() {
                require(['main']);
            });
        </script>
    </body>
</html>
